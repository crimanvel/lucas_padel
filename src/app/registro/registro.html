<div class="register-container">
  <div class="register-box">
    <h1>Turnos de Padel</h1>
    <h2>Crear Cuenta</h2>

    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
      <div>
        <label for="email">Correo electrónico:</label>
        <input id="email" formControlName="email" type="email" />
        <div
          *ngIf="registerForm.get('email')?.touched && registerForm.get('email')?.errors?.['required']"
          class="error"
        >
          El correo es obligatorio
        </div>
        <div
          *ngIf="registerForm.get('email')?.touched && registerForm.get('email')?.errors?.['email']"
          class="error"
        >
          El correo no es válido
        </div>
      </div>

      <div>
        <label for="password">Contraseña:</label>
        <input id="password" formControlName="password" type="password" />
        <div
          *ngIf="registerForm.get('password')?.touched && registerForm.get('password')?.errors?.['required']"
          class="error"
        >
          La contraseña es obligatoria
        </div>
        <div
          *ngIf="registerForm.get('password')?.touched && registerForm.get('password')?.errors?.['minlength']"
          class="error"
        >
          Mínimo 4 caracteres
        </div>
      </div>

      <div>
        <label for="repeatPassword">Repetir contraseña:</label>
        <input
          id="repeatPassword"
          formControlName="repeatPassword"
          type="password"
        />
        <div
          *ngIf="registerForm.get('repeatPassword')?.touched && registerForm.get('repeatPassword')?.errors?.['required']"
          class="error"
        >
          Repetir la contraseña es obligatorio
        </div>
        <div
          *ngIf="registerForm.errors?.['passwordsMismatch'] && registerForm.get('repeatPassword')?.touched"
          class="error"
        >
          Las contraseñas no coinciden
        </div>
      </div>

      <div class="botones">
        <button type="submit" [disabled]="registerForm.invalid">
          Registrarse
        </button>
        <button type="button" id="volverlogin" (click)="volver()">
          Volver al login
        </button>
      </div>
    </form>

    <div *ngIf="userCreated" class="success">✅ Usuario creado con éxito</div>
  </div>
</div>
